(this["webpackJsonpnosso-predio-client"]=this["webpackJsonpnosso-predio-client"]||[]).push([[0],{24:function(e,t,a){},34:function(e,t,a){},39:function(e,t,a){e.exports=a(73)},44:function(e,t,a){},45:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(35),l=a.n(s),r=(a(44),a(4)),c=a(5),o=a(2),u=a(7),m=a(6),d=(a(24),a(8)),h=a(3),p=(a(45),function(e){return i.a.createElement("nav",{className:"nav-main-box"},i.a.createElement("div",{className:"nav-left-side"},i.a.createElement(h.c,{className:"nav-link-left",to:"/"},i.a.createElement("img",{className:"logo-img",src:"https://res.cloudinary.com/juliajforesti/image/upload/v1589992934/nosso-predio/NOSSO_1_ybzmqc.png",alt:"Nosso Pr\xe9dio"}))),i.a.createElement("div",null,e.user?i.a.createElement("div",{className:"nav-right-side"},i.a.createElement("button",{className:"logout-btn",onClick:function(){return e.logout()}},"Logout")):i.a.createElement("div",{className:"nav-right-side"},i.a.createElement(h.c,{className:"nav-link-right",to:"/signup"},"Signup"),i.a.createElement(h.c,{className:"nav-link-right",to:"/login"},"Login"))))}),g=a(17),v=a.n(g),b=function(){function e(){Object(r.a)(this,e),this.service=v.a.create({baseURL:"https://nosso-predio.herokuapp.com/api",withCredentials:!0})}return Object(c.a)(e,[{key:"signup",value:function(e,t,a){return this.service.post("/signup",{email:e,password:t,name:a}).then((function(e){return e.data}))}},{key:"login",value:function(e,t){return this.service.post("/login",{email:e,password:t}).then((function(e){return e.data}))}},{key:"googleLogin",value:function(){return this.service.get("/auth/google").then((function(e){return e.data}))}},{key:"logout",value:function(){return this.service.get("/logout",{}).then((function(e){return e.data}))}},{key:"loggedin",value:function(){return this.service.get("/loggedin",{}).then((function(e){return e.data}))}},{key:"edit",value:function(e,t,a){return this.service.post("/edit-user/".concat(a),{email:e,name:t},{new:!0}).then((function(e){return e.data}))}},{key:"editPassword",value:function(e,t){return this.service.post("/edit-password/".concat(t),{password:e},{new:!0}).then((function(e){return e.data}))}},{key:"editPhoto",value:function(e,t){return this.service.post("/edit-photo/".concat(t),e,{new:!0}).then((function(e){return e.data}))}}]),e}(),E=a(10),f=(a(34),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",name:"",errorMessage:null,passwordCheck:null,passwordCounter:0},n.service=new b,n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleFormSubmit=n.handleFormSubmit.bind(Object(o.a)(n)),n.responseGoogle=n.responseGoogle.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n)),"password"===a&&this.checkPasswordLength()}},{key:"checkPasswordLength",value:function(){console.log(this.state.password.length),this.state.password.length+1>5?this.setState({passwordCheck:"2px solid green"}):this.setState({passwordCheck:"2px solid red"})}},{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.email,i=a.password,s=a.name;this.service.signup(n,i,s).then((function(e){t.setState({email:"",password:"",name:""}),t.props.getUser(e),t.props.history.push("/pagina-principal")})).catch((function(e){t.setState({errorMessage:"Email j\xe1 cadastrado"})}))}},{key:"responseGoogle",value:function(e){this.service.googleLogin().then((function(e){return console.log("RESP:",e)})).catch((function(e){return console.log(e)})),console.log("RESPONSE:",e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"auth-container"},i.a.createElement("h2",{className:"auth-title"},"Cadastrar"),i.a.createElement("p",{className:"auth-alternative"},"J\xe1 tem uma conta?",i.a.createElement(h.b,{className:"auth-alternative",to:"/login"}," ","Entre ",i.a.createElement("strong",null," aqui! "))),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Nome:")," ",i.a.createElement("br",null),i.a.createElement("input",{className:"form-input",type:"text",name:"name",value:this.state.name,onChange:this.handleChange})),i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Email:")," ",i.a.createElement("br",null),i.a.createElement("input",{className:"form-input",type:"email",name:"email",value:this.state.email,onChange:this.handleChange})),i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Senha:")," ",i.a.createElement("br",null),i.a.createElement("input",{className:"form-input",type:"password",name:"password",style:{border:this.state.passwordCheck},value:this.state.password,onChange:this.handleChange}),i.a.createElement("p",{className:"password-warning"},"Crie uma senha com no m\xednimo 6 caracteres")),this.state.password.length<6?i.a.createElement("input",{disabled:!0,className:"form-input-submit",type:"submit",value:"Cadastrar"}):i.a.createElement("input",{className:"form-input-submit",type:"submit",value:"Cadastrar"})),i.a.createElement("div",{className:"auth-google"},i.a.createElement("p",{className:"auth-alternative"},"Ou ent\xe3o entre com sua conta Google"),i.a.createElement("div",{className:"social-login-container"},i.a.createElement("a",{className:"social-login form-input-submit",href:"http://nosso-predio.herokuapp.com/api/auth/google"},"GOOGLE"))),i.a.createElement("p",null,this.state.errorMessage))}}]),a}(n.Component)),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",errorMessage:null},n.service=new b,n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleFormSubmit=n.handleFormSubmit.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.email,i=a.password;this.service.login(n,i).then((function(e){t.setState({email:"",password:""}),t.props.getUser(e),t.props.history.push("/pagina-principal")})).catch((function(e){t.setState({errorMessage:"Email e/ou senha incorretos"})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"auth-container"},i.a.createElement("h2",{className:"auth-title"},"Entrar"),i.a.createElement("p",{className:"auth-alternative"},"N\xe3o tem uma conta?",i.a.createElement(h.b,{className:"auth-alternative",to:"/signup"},"  Cadastre-se ",i.a.createElement("strong",null,"aqui!"))),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Email:")," ",i.a.createElement("br",null),i.a.createElement("input",{className:"form-input",type:"email",name:"email",value:this.state.email,onChange:this.handleChange})),i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Senha:")," ",i.a.createElement("br",null),i.a.createElement("input",{type:"password",name:"password",className:"form-input",value:this.state.password,onChange:this.handleChange})),i.a.createElement("input",{className:"form-input-submit",type:"submit",value:"Entrar"})),i.a.createElement("div",{className:"auth-google"},i.a.createElement("p",{className:"auth-alternative"},"Ou ent\xe3o entre com sua conta Google"),i.a.createElement("div",{className:"social-login-container"},i.a.createElement("a",{className:"social-login form-input-submit",href:"http://nosso-predio.herokuapp.com/api/auth/google"},"GOOGLE"))),i.a.createElement("div",null,i.a.createElement("p",null,this.state.errorMessage)))}}]),a}(n.Component),N=function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:"home-title"},i.a.createElement("img",{src:"https://res.cloudinary.com/juliajforesti/image/upload/v1589995572/nosso-predio/NOSSO_2_cdmf2u.png",alt:"Nosso Pr\xe9dio"})),e.user?i.a.createElement("div",{className:"home-link-box"},i.a.createElement(h.b,{className:"home-link",to:"/pagina-principal"},"Pagina principal")):i.a.createElement("div",null,i.a.createElement("div",{className:"home-link-box"},i.a.createElement(h.b,{className:"home-link",to:"/signup"},"Clique aqui para se cadastrar!")),i.a.createElement("div",{className:"home-link-box"},i.a.createElement(h.b,{className:"home-link",to:"/login"},"J\xe1 tem cadastro? Entre aqui!"))),i.a.createElement("div",{className:"home-about-box"},i.a.createElement("h2",null,"Sobre"),i.a.createElement("hr",null),i.a.createElement("p",{className:"home-about-text"},"Nosso Pr\xe9dio \xe9 uma plataforma para disponibiliza\xe7\xe3o e compra de servi\xe7os e produtos entre vizinhos. Ela foi criada com o intuito de estimular pequenos neg\xf3cios e o senso de comunidade entre os moradores de condom\xednios. Voc\xea pode cadastrar seu condom\xednio, convidar seus vizinhos para participarem do grupo, disponibilizar e comprar servi\xe7os e/ou produtos."),i.a.createElement("ul",{className:"home-about-list"},i.a.createElement("li",null,"Voc\xea tem tempo livre e gostaria de se disponibilizar para passear com os pets de seus vizinhos?"),i.a.createElement("li",null,"Voc\xea faz uma feijoada deliciosa e gostaria de oferecer como produto?"),i.a.createElement("li",null,"Voc\xea sabe montar m\xf3veis e gostaria de oferecer esse servi\xe7o?")),i.a.createElement("h4",null,"Junte-se ao Nosso Pr\xe9dio!")),i.a.createElement("div",{className:"home-about-box"},i.a.createElement("h2",null,"Quem somos"),i.a.createElement("hr",null),i.a.createElement("div",{className:"home-about-text-container"},i.a.createElement("div",{className:"home-about-text"},i.a.createElement("img",{src:"https://res.cloudinary.com/juliajforesti/image/upload/v1589924085/nosso-predio/bf542bbc-bdbe-46a2-a6bc-e8d39c4f2d5f_2_zc0fhb.jpg",alt:""}),i.a.createElement("h3",null,"Gabriel Bohn"),i.a.createElement("img",{src:"",alt:""}),i.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.")),i.a.createElement("div",{className:"home-about-text"},i.a.createElement("img",{src:"https://res.cloudinary.com/juliajforesti/image/upload/v1589924069/nosso-predio/IMG_2847_r8kbbo.jpg",alt:""}),i.a.createElement("h3",null,"Julia Foresti"),i.a.createElement("img",{src:"",alt:""}),i.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.")))))},S=a(38),y=function(e){var t=e.component,a=e.user,n=e.getUser,s=Object(S.a)(e,["component","user","getUser"]);return i.a.createElement(d.b,Object.assign({},s,{render:function(e){return a?i.a.createElement(t,Object.assign({},e,{user:a,getUser:n})):i.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},k=a(18),O=function(){function e(){Object(r.a)(this,e),this.service=v.a.create({baseURL:"https://nosso-predio.herokuapp.com/api",withCredentials:!0})}return Object(c.a)(e,[{key:"getUser",value:function(e){return this.service.get("/user/".concat(e)).then((function(e){return e.data}))}},{key:"getAllBuildings",value:function(){return this.service.get("/buildings",{}).then((function(e){return e.data}))}},{key:"addBuilding",value:function(e,t,a){return this.service.post("/add-building",{name:e,cep:t,number:a},{new:!0}).then((function(e){return e.data}))}},{key:"getBuildingDetails",value:function(e){return this.service.get("/building/".concat(e)).then((function(e){return e.data}))}},{key:"addService",value:function(e,t,a,n,i,s,l){return this.service.post("/building/".concat(l,"/add-service"),{name:e,description:t,category:a,price:n,date:i,apartment:s},{new:!0}).then((function(e){return e.data}))}},{key:"getAllServices",value:function(){return this.service.get("/services").then((function(e){return e.data}))}},{key:"getServiceDetails",value:function(e,t){return this.service.get("/building/".concat(e,"/service/").concat(t)).then((function(e){return e.data}))}},{key:"getAllOrders",value:function(){return this.service.get("/orders").then((function(e){return e.data}))}},{key:"addOrder",value:function(e,t,a){return this.service.post("/building/".concat(e,"/service/").concat(t,"/add-order"),{quantity:a},{new:!0}).then((function(e){return e.data}))}},{key:"buildingInvite",value:function(e){return this.service.get("building-invitation/".concat(e),{new:!0}).then((function(e){return e.data}))}},{key:"changeStatus",value:function(e,t,a,n){return this.service.post("/building/".concat(e,"/service/").concat(t,"/status-order/").concat(a),{status:n},{new:!0}).then((function(e){return e.data}))}},{key:"editBuilding",value:function(e,t,a,n){return this.service.post("/edit-building/".concat(e),{name:t,cep:a,number:n}).then((function(e){return e.data}))}},{key:"editBuildingPhoto",value:function(e,t){return this.service.post("/edit-building-photo/".concat(t),e,{new:!0}).then((function(e){return e.data}))}},{key:"editService",value:function(e,t,a,n,i,s,l,r){return this.service.post("/building/".concat(e,"/edit-service/").concat(t),{name:a,description:n,price:i,category:s,apartment:l,date:r}).then((function(e){return e.data}))}},{key:"deleteService",value:function(e,t){return this.service.delete("/building/".concat(e,"/delete-service/").concat(t)).then((function(e){return e.data}))}},{key:"editServicePhoto",value:function(e,t,a){return this.service.post("/building/".concat(t,"/edit-service-photo/").concat(a),e,{new:!0}).then((function(e){return e.data}))}}]),e}(),j=function(e){return e.servicePage?i.a.createElement("div",null,e.services.map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement(h.b,{to:"/condominio/".concat(e.building,"/servi\xe7o/").concat(e._id)},i.a.createElement("div",{className:"card-box"},i.a.createElement("img",{className:"card-img",src:e.image,alt:e.name}),i.a.createElement("div",{className:"service-card-right-side"},i.a.createElement("h3",null,e.name.toUpperCase()),i.a.createElement("p",null,e.description)))))}))):i.a.createElement("div",null,e.services.map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement(h.b,{to:"/condominio/".concat(e.building,"/servi\xe7o/").concat(e._id)},i.a.createElement("div",{className:"card-box"},i.a.createElement("img",{className:"card-img",src:e.image,alt:e.name}),i.a.createElement("h3",null,e.name)," ",i.a.createElement("br",null),i.a.createElement("h3",null,"R$",e.price))))})))},w=function(e){var t=e.orders,a=["Pendente","Confirmado","Entregue","Cancelado"];return i.a.createElement("div",null,t.map((function(t,n){var s=t.origin.name.split(" ")[0];return i.a.createElement("div",{key:n},i.a.createElement(h.b,{to:"/condominio/".concat(t.service.building,"/servi\xe7o/").concat(t.service._id)},i.a.createElement("div",{className:"card-box order-card"},i.a.createElement("img",{className:"card-img",src:t.service.image,alt:""}),i.a.createElement("div",{className:"card-order-middle"},i.a.createElement("h3",null,t.service.name),i.a.createElement("h5",null,"Qtd: ",t.quantity)),e.user.services.some((function(e){return e._id===t.service._id}))?i.a.createElement("div",{className:"card-order-right-side"},i.a.createElement("p",{className:"order-by"},"Pedido por: ",s),"Cancelado"!==t.status?i.a.createElement("form",{onChange:function(a){return e.handleStatus(t.service.building,t.service._id,t._id,a.target.value)}},i.a.createElement("label",{className:"status-label"},"Alterar status: "),i.a.createElement("select",{className:"status-select",name:"status"},i.a.createElement("option",{value:t.status},t.status),a.filter((function(e){return e!==t.status})).map((function(e,t){return i.a.createElement("option",{key:t,value:e},e)})))):i.a.createElement("p",null,"Status: Cancelado")):i.a.createElement("div",{className:"card-order-right-side"},i.a.createElement("p",{className:"status-info"},"Status do pedido: ",t.status),"Cancelado"===t.status?i.a.createElement(i.a.Fragment,null):i.a.createElement("button",{className:"cancel-btn",onClick:function(a){return e.handleStatus(t.service.building,t.service._id,t._id,"Cancelado")}},"Cancelar pedido")))))})))},U=(a(68),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={buildings:[],orders:[],activeOrders:[],services:[],buildingApiCalled:!1,userApiCalled:!1,serviceApiCalled:!1,orderAPICalled:!1,toggleButton:!1,confirmationCode:"",toggleStatusButton:!0},n.service=new O,n.handleChangeCode=n.handleChangeCode.bind(Object(o.a)(n)),n.handleOnSubmit=n.handleOnSubmit.bind(Object(o.a)(n)),n.handleStatus=n.handleStatus.bind(Object(o.a)(n)),n.handleToggleStatus=n.handleToggleStatus.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleChangeCode",value:function(e){this.setState({confirmationCode:e.target.value})}},{key:"getUserUpdated",value:function(){var e=this;this.state.userApiCalled||this.service.getUser(this.props.user._id).then((function(t){e.props.getUser(t),e.setState({userApiCalled:!0})}))}},{key:"getBuildings",value:function(){var e=this;this.state.buildingApiCalled||this.service.getAllBuildings().then((function(t){e.setState({buildings:t,buildingApiCalled:!0})}))}},{key:"getUserBuildings",value:function(){var e=this;this.state.buildingApiCalled||this.service.getAllBuildings().then((function(t){e.setState({buildingApiCalled:!0,buildings:t.filter((function(t){return t.residents.includes(e.props.user._id)}))})}))}},{key:"getUserServices",value:function(){var e=this;this.state.serviceApiCalled||this.service.getAllServices().then((function(t){e.setState({serviceApiCalled:!0,services:t.filter((function(t){return t.owner.includes(e.props.user._id)}))})}))}},{key:"getUserOrders",value:function(){var e=this;this.state.orderAPICalled||this.service.getAllOrders().then((function(t){e.setState({orders:t.filter((function(t){return t.origin._id.includes(e.props.user._id)})),orderAPICalled:!0})}))}},{key:"handleToggle",value:function(){this.setState({toggleButton:!this.state.toggleButton})}},{key:"handleToggleStatus",value:function(){this.setState({toggleStatusButton:!this.state.toggleStatusButton})}},{key:"handleOnSubmit",value:function(e){var t=this;e.preventDefault(),this.service.buildingInvite(this.state.confirmationCode).then((function(e){t.setState({toggleButton:!t.state.toggleButton,confirmationCode:"",buildingApiCalled:!1,userApiCalled:!1})}))}},{key:"handleStatus",value:function(e,t,a,n){var i=this;this.service.changeStatus(e,t,a,n).then((function(e){return i.setState({orderAPICalled:!1})}))}},{key:"activeOrders",value:function(){var e=Object(k.a)(this.state.orders);this.setState({activeOrders:e.filter((function(e){return"Cancelado"!==e.status}))})}},{key:"render",value:function(){var e=this;return this.getUserUpdated(),this.props.user.buildings.length<1?(this.getBuildings(),i.a.createElement("div",null,i.a.createElement("div",{className:"main-page-title-box"},i.a.createElement("h1",null,i.a.createElement("span",{className:"title-first"},"Ol\xe1"),i.a.createElement("span",{className:"title-second"}," ",this.props.user.name))),i.a.createElement("div",{className:"welcome-section"},i.a.createElement("p",null,"Seja bem vindo(a) ao Nosso Pr\xe9dio! "),i.a.createElement("p",null,"Voc\xea ainda n\xe3o faz parte de nenhum condom\xednio da nossa rede.")),i.a.createElement("div",null,i.a.createElement("div",{className:"add-building-box"},i.a.createElement(h.b,{className:"add-building-btn",to:"/adicionar-condominio"},"Criar Condominio")),i.a.createElement("div",{className:"invitation-code-box"},i.a.createElement("button",{className:"invitation-code-btn",onClick:function(){return e.handleToggle()}},"J\xe1 tem um convite? Clique aqui para inserir o c\xf3digo"),this.state.toggleButton?i.a.createElement("form",{onSubmit:this.handleOnSubmit,type:"submit"},i.a.createElement("input",{onChange:this.handleChangeCode,value:this.state.confirmationCode,type:"text",name:"confirmationCode",placeholder:"insira seu c\xf3digo de acesso"}),i.a.createElement("button",{type:"submit"},"Enviar")):i.a.createElement(i.a.Fragment,null))))):(this.getUserBuildings(),this.getUserServices(),this.getUserOrders(),i.a.createElement("div",null,i.a.createElement("div",{className:"main-page-title-box"},i.a.createElement("h1",null,i.a.createElement("span",{className:"title-first"},"Ol\xe1"),i.a.createElement("span",{className:"title-second"}," ",this.props.user.name))),i.a.createElement("div",null,i.a.createElement("div",{className:"add-building-box"},i.a.createElement(h.b,{className:"add-building-btn",to:"/adicionar-condominio"},"Criar Condominio")),i.a.createElement("div",{className:"invitation-code-box"},i.a.createElement("button",{className:"invitation-code-btn",onClick:function(){return e.handleToggle()}},"J\xe1 tem um convite? Clique aqui para inserir o c\xf3digo"),this.state.toggleButton?i.a.createElement("form",{onSubmit:this.handleOnSubmit,type:"submit"},i.a.createElement("input",{onChange:this.handleChangeCode,value:this.state.confirmationCode,type:"text",name:"confirmationCode",placeholder:"insira seu c\xf3digo de acesso"}),i.a.createElement("button",{type:"submit"},"Enviar")):i.a.createElement(i.a.Fragment,null)),i.a.createElement("div",{className:"main-page-section-title-container"},i.a.createElement(h.b,{className:"main-page-section-title",to:"/meus-condominios"},i.a.createElement("span",{className:"title-third"},"Meus "),i.a.createElement("span",{className:"title-second"},"Condom\xednios"))),this.props.user.buildings.length>3?this.state.buildings.slice(0,3).map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement(h.b,{to:"/condominio/".concat(e._id)},i.a.createElement("div",{className:"card-box"},i.a.createElement("img",{className:"card-img",src:e.image,alt:""}),i.a.createElement("h3",null,e.name),i.a.createElement("p",null,"CEP: ",e.address.cep))))})):this.state.buildings.map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement(h.b,{to:"/condominio/".concat(e._id)},i.a.createElement("div",{className:"card-box"},i.a.createElement("img",{className:"card-img",src:e.image,alt:""}),i.a.createElement("h3",null,e.name),i.a.createElement("p",null,e.address.cep))))})),this.props.user.buildings.length>3?i.a.createElement("div",{className:"see-more-box"},i.a.createElement(h.b,{className:"see-more-btn",to:"/meus-condominios"},"Ver mais")):i.a.createElement("div",null),i.a.createElement("div",{className:"main-page-section-title-container"},i.a.createElement(h.b,{className:"main-page-section-title",to:"/meus-servi\xe7os"},i.a.createElement("div",{className:"title-third"},"Meus "),i.a.createElement("div",{className:"title-second"},"servi\xe7os e produtos "))),i.a.createElement("div",null,this.props.user.services.length>0?i.a.createElement(j,Object.assign({services:this.state.services.slice(0,3)},this.props)):i.a.createElement(i.a.Fragment,null),i.a.createElement("div",{className:"see-more-box"},i.a.createElement(h.b,{className:"see-more-btn",to:"/meus-servi\xe7os"},"Ver mais"))),i.a.createElement("div",{className:"main-page-section-title-container"},i.a.createElement(h.b,{className:"main-page-section-title",to:"/meus-pedidos"},i.a.createElement("span",{className:"title-third"},"Meus "),i.a.createElement("span",{className:"title-second"},"pedidos "))),i.a.createElement("div",null,i.a.createElement("div",{className:"see-more-box"},i.a.createElement("button",{className:"see-more-btn",onClick:this.handleToggleStatus},this.state.toggleStatusButton?"Mostrar todos os pedidos":"Mostrar somente pedidos ativos")),this.state.toggleStatusButton?i.a.createElement(w,Object.assign({activeOrders:this.activeOrders,handleStatus:this.handleStatus,orders:this.state.orders.filter((function(e){return"Cancelado"!==e.status}))},this.props)):i.a.createElement(w,Object.assign({handleStatus:this.handleStatus,orders:this.state.orders},this.props))))))}}]),a}(n.Component)),x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={name:"",cep:"",number:"",border:null},n.service=new O,n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.name,i=a.cep,s=a.number;this.service.addBuilding(n,i,s).then((function(e){e.message?t.setState({duplicate:"Este pr\xe9dio j\xe1 est\xe1 cadastrado, entre em contato com seus vizinhos para conseguir o link de acesso.",border:"2px solid red"}):t.props.history.push("/pagina-principal")})),console.log(this.props)}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"render",value:function(){return i.a.createElement("div",{className:"auth-container"},i.a.createElement("h1",null,i.a.createElement("span",{className:"title-first"},"Adicione "),i.a.createElement("span",{className:"title-second"},"seu Condom\xednio ")),i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Nome:")," ",i.a.createElement("br",null),i.a.createElement("input",{onChange:this.handleChange,type:"text",name:"name",className:"form-input",value:this.state.name})),i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"CEP:")," ",i.a.createElement("br",null),i.a.createElement("input",{onChange:this.handleChange,type:"text",name:"cep",style:{border:this.state.border},className:"form-input",value:this.state.cep})),i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"N\xfamero:")," ",i.a.createElement("br",null),i.a.createElement("input",{onChange:this.handleChange,type:"number",style:{border:this.state.border},name:"number",className:"form-input",value:this.state.number})),i.a.createElement("button",{style:{width:"200px",border:this.state.border},className:"form-input-submit",type:"submit"},"Adicionar Condom\xednio")),i.a.createElement("br",null),this.state.duplicate?i.a.createElement("div",{className:"add-building-err"},i.a.createElement("p",null,this.state.duplicate)):null),i.a.createElement("button",{onClick:this.props.history.goBack,className:"back-btn"},"Voltar"))}}]),a}(n.Component),B=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(r.a)(this,a);var i=(n=t.call(this,e)).props.building.name,s=n.props.building.address,l=s.cep,c=s.number;return n.state={name:i,cep:l,number:c},n.service=new O,n.handleFormSubmit=n.handleFormSubmit.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleFileUpload=n.handleFileUpload.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props.building._id,n=this.state,i=n.name,s=n.cep,l=n.number;this.service.editBuilding(a,i,s,l).then((function(e){console.log(e),t.props.handleClick(),t.props.getEditedBuilding(e)}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleFileUpload",value:function(e){var t=this,a=new FormData;console.log(e.target.files[0]),a.append("image",e.target.files[0]);var n=this.props.building._id;this.service.editBuildingPhoto(a,n).then((function(e){console.log(e),t.props.getEditedBuilding(e),t.props.handleClick()}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("label",null,"Alterar imagem:"),i.a.createElement("input",{type:"file",onChange:this.handleFileUpload}),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("label",null,"Nome:"),i.a.createElement("input",{onChange:this.handleChange,type:"text",name:"name",value:this.state.name}),i.a.createElement("label",null,"cep:"),i.a.createElement("input",{onChange:this.handleChange,type:"text",name:"cep",value:this.state.cep}),i.a.createElement("label",null,"N\xfamero:"),i.a.createElement("input",{onChange:this.handleChange,type:"text",name:"number",value:this.state.number}),i.a.createElement("button",{type:"submit"},"Salvar")))}}]),a}(n.Component),A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).copyCodeToClipboard=function(){n.setState({copySuccess:!0})},n.state={copySuccess:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("p",null,"C\xf3digo de acesso: ",this.props.code)),i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){navigator.clipboard.writeText("http://nosso-predio.herokuapp.com/convite/".concat(e.props.code)),e.copyCodeToClipboard()}},"Copiar link"),this.state.copySuccess?i.a.createElement("div",{style:{color:"green"}},"Copiado!"):null))}}]),a}(n.Component),P=(a(69),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={building:{},services:[],search:"",buildingApiCalled:!1,serviceApiCalled:!1,toggleEdit:!1},n.service=new O,n.handleClick=n.handleClick.bind(Object(o.a)(n)),n.getEditedBuilding=n.getEditedBuilding.bind(Object(o.a)(n)),n.handleChangeSearch=n.handleChangeSearch.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleChangeSearch",value:function(e){this.setState({search:e.target.value.toLowerCase()})}},{key:"handleClick",value:function(){this.setState({toggleEdit:!this.state.toggleEdit})}},{key:"getBuildingDetails",value:function(){var e=this;if(!this.state.buildingApiCalled){var t=this.props.match.params;this.service.getBuildingDetails(t.id).then((function(t){e.setState({building:t,buildingApiCalled:!0})}))}}},{key:"getEditedBuilding",value:function(e){console.log(),this.setState({building:e})}},{key:"getBuildingServices",value:function(){var e=this;this.state.serviceApiCalled||this.service.getAllServices().then((function(t){e.setState({serviceApiCalled:!0,services:t.filter((function(t){return t.building.includes(e.state.building._id)}))})}))}},{key:"render",value:function(){var e=this;return this.getBuildingDetails(),this.getBuildingServices(),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("h1",{className:"details-page-title"},this.state.building.name),this.props.user._id===this.state.building.owner?i.a.createElement("div",null,i.a.createElement(A,{code:this.state.building.confirmationCode}),i.a.createElement("button",{className:"details-btn",onClick:this.handleClick},"Editar"),this.state.toggleEdit?i.a.createElement(B,{getEditedBuilding:this.getEditedBuilding,building:this.state.building,handleClick:this.handleClick}):i.a.createElement(i.a.Fragment,null)):i.a.createElement(i.a.Fragment,null)),i.a.createElement("h2",{className:"details-section-title"},"Servi\xe7os/Produtos dispon\xedveis"),i.a.createElement("div",{className:"search-bar-container"},i.a.createElement("input",{className:"form-input",type:"text",value:this.state.search,onChange:this.handleChangeSearch,placeholder:"Buscar servi\xe7o pelo nome"})),i.a.createElement("div",{className:"details-btn"},i.a.createElement(h.b,{className:"details-link",to:"/condominio/".concat(this.state.building._id,"/adicionar-servi\xe7o")},"Adicionar Servi\xe7o/Produto")),i.a.createElement(j,Object.assign({services:this.state.services.filter((function(t){return t.name.toLowerCase().includes(e.state.search)}))},this.props)),i.a.createElement("button",{onClick:this.props.history.goBack,className:"details-btn"},"Voltar"))}}]),a}(n.Component)),F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={buildings:[],search:"",buildingApiCalled:!1,toggleButton:!1,confirmationCode:""},n.service=new O,n.handleChangeCode=n.handleChangeCode.bind(Object(o.a)(n)),n.handleChangeSearch=n.handleChangeSearch.bind(Object(o.a)(n)),n.handleOnSubmit=n.handleOnSubmit.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleChangeSearch",value:function(e){this.setState({search:e.target.value.toLowerCase()})}},{key:"handleToggle",value:function(){this.setState({toggleButton:!this.state.toggleButton})}},{key:"handleChangeCode",value:function(e){this.setState({confirmationCode:e.target.value})}},{key:"handleOnSubmit",value:function(e){var t=this;e.preventDefault(),this.service.buildingInvite(this.state.confirmationCode).then((function(e){t.setState({toggleButton:!t.state.toggleButton,confirmationCode:"",buildingApiCalled:!1})}))}},{key:"getBuildings",value:function(){var e=this;this.state.buildingApiCalled||this.service.getAllBuildings().then((function(t){e.setState({buildings:t,buildingApiCalled:!0})}))}},{key:"getUserBuildings",value:function(){var e=this;this.state.buildingApiCalled||this.service.getAllBuildings().then((function(t){e.setState({buildingApiCalled:!0,buildings:t.filter((function(t){return t.residents.includes(e.props.user._id)}))})}))}},{key:"render",value:function(){var e=this;return this.props.user.buildings.length<1?(this.getBuildings(),i.a.createElement("div",null,i.a.createElement("div",{className:"main-page-title-box"},i.a.createElement("h1",null,i.a.createElement("span",{className:"title-first"},"Meus "),i.a.createElement("span",{className:"title-second"},"Condom\xednios"))),i.a.createElement("div",{className:"add-building-box"},i.a.createElement(h.b,{className:"add-building-btn",to:"/adicionar-condominio"},"Criar Condominio")),i.a.createElement("div",{className:"invitation-code-box"},i.a.createElement("button",{className:"invitation-code-btn",onClick:function(){return e.handleToggle()}},"J\xe1 tem um convite? Clique aqui para inserir o c\xf3digo"),this.state.toggleButton?i.a.createElement("form",{onSubmit:this.handleOnSubmit,type:"submit"},i.a.createElement("input",{onChange:this.handleChangeCode,value:this.state.confirmationCode,type:"text",name:"confirmationCode",placeholder:"insira seu c\xf3digo de acesso"}),i.a.createElement("button",{type:"submit"},"Enviar")):i.a.createElement(i.a.Fragment,null),i.a.createElement("button",{onClick:this.props.history.goBack,className:"back-btn"},"Voltar")))):(this.getUserBuildings(),i.a.createElement("div",null,i.a.createElement("div",{className:"main-page-title-box"},i.a.createElement("h1",null,i.a.createElement("span",{className:"title-first"},"Meus "),i.a.createElement("span",{className:"title-second"},"Condom\xednios"))),i.a.createElement("div",{className:"add-building-box"},i.a.createElement(h.b,{className:"add-building-btn",to:"/adicionar-condominio"},"Criar Condominio")),i.a.createElement("div",{className:"invitation-code-box"},i.a.createElement("button",{className:"invitation-code-btn",onClick:function(){return e.handleToggle()}},"J\xe1 tem um convite? Clique aqui para inserir o c\xf3digo"),this.state.toggleButton?i.a.createElement("form",{onSubmit:this.handleOnSubmit,type:"submit"},i.a.createElement("input",{onChange:this.handleChangeCode,value:this.state.confirmationCode,type:"text",name:"confirmationCode",placeholder:"insira seu c\xf3digo de acesso"}),i.a.createElement("button",{type:"submit"},"Enviar")):i.a.createElement(i.a.Fragment,null)),i.a.createElement("div",{className:"search-bar-container"},i.a.createElement("input",{className:"form-input search-bar",type:"text",value:this.state.search,onChange:this.handleChangeSearch,placeholder:"Buscar condom\xednio pelo nome"})),i.a.createElement("div",null,this.state.buildings.filter((function(t){return t.name.toLowerCase().includes(e.state.search)})).map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement(h.b,{to:"/condominio/".concat(e._id)},i.a.createElement("div",{className:"card-box"},i.a.createElement("img",{className:"card-img",src:e.image,alt:e.name}),i.a.createElement("h3",null,e.name),i.a.createElement("div",null,i.a.createElement("p",null,"CEP: ",e.address.cep),i.a.createElement("p",null,"N\xfamero: ",e.address.number)))))}))),i.a.createElement("button",{onClick:this.props.history.goBack,className:"back-btn"},"Voltar")))}}]),a}(n.Component),_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={name:"",description:"",category:"Produto",price:"",date:"",apartment:""},n.service=new O,n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props.match.params.id,n=this.state,i=n.name,s=n.description,l=n.category,r=n.price,c=n.date,o=n.apartment;this.service.addService(i,s,l,r,c,o,a).then((function(e){t.props.history.push("/condominio/".concat(a))}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"render",value:function(){return i.a.createElement("div",{className:"auth-container"},i.a.createElement("h1",null,i.a.createElement("span",{className:"title-first"},"Adicione "),i.a.createElement("span",{className:"title-second"},"seu Servi\xe7o ou Produto ")),i.a.createElement("div",null),i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Nome:")," ",i.a.createElement("br",null),i.a.createElement("input",{onChange:this.handleChange,type:"text",className:"form-input",name:"name",value:this.state.name,placeholder:"Cookies do bem"})),i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Descri\xe7\xe3o:")," ",i.a.createElement("br",null),i.a.createElement("input",{onChange:this.handleChange,type:"text-area",name:"description",value:this.state.description,placeholder:"Cookies caseiros feitos com muito amor e carinho"})),i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Categoria:")," ",i.a.createElement("br",null),i.a.createElement("select",{onChange:this.handleChange,name:"category"},i.a.createElement("option",{value:"Produto"},"Produto"),i.a.createElement("option",{value:"Servi\xe7o"},"Servi\xe7o"))),i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Pre\xe7o:")," ",i.a.createElement("br",null),i.a.createElement("input",{className:"form-input",onChange:this.handleChange,type:"number",name:"price",value:this.state.price})),i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Data:")," ",i.a.createElement("br",null),i.a.createElement("input",{className:"form-input",onChange:this.handleChange,type:"date",name:"date",value:this.state.date})),i.a.createElement("div",{className:"form-item"},i.a.createElement("label",null,"Complemento:")," ",i.a.createElement("br",null),i.a.createElement("input",{className:"form-input",onChange:this.handleChange,type:"text",name:"apartment",value:this.state.apartment,placeholder:"Apt. 103"})),i.a.createElement("button",{className:"form-button",type:"submit"},"Adicionar"))))}}]),a}(n.Component),D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={quantity:0},n.service=new O,n.handleFormSubmit=n.handleFormSubmit.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({quantity:t})}},{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.quantity,n=this.props,i=n.service,s=n.building;this.service.addOrder(s,i,a).then((function(e){t.setState({quantity:0}),t.props.history.push("/meus-pedidos")})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",{className:""},i.a.createElement("div",{className:""},i.a.createElement("label",null,"Quantidade:"),i.a.createElement("input",{className:"",type:"number",name:"quantity",value:this.state.quantity,onChange:this.handleChange}))),i.a.createElement("input",{className:"button",type:"submit",value:"Pedir"}))}}]),a}(n.Component),q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(r.a)(this,a);var i=(n=t.call(this,e)).props.service,s=i.name,l=i.description,c=i.category,u=i.price,m=i.date,d=i.apartment;return n.state={name:s,description:l,category:c,price:u,date:m,apartment:d},n.service=new O,n.handleFormSubmit=n.handleFormSubmit.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleFileUpload=n.handleFileUpload.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props.service.building,n=this.props.service._id,i=this.state,s=i.name,l=i.description,r=i.price,c=i.category,o=i.apartment,u=i.date;this.service.editService(a,n,s,l,r,c,o,u).then((function(e){console.log(e),t.props.handleClick(),t.props.getEditedService(e)}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleFileUpload",value:function(e){var t=this,a=new FormData;a.append("image",e.target.files[0]);var n=this.props.service.building,i=this.props.service._id;this.service.editServicePhoto(a,n,i).then((function(e){t.props.getEditedService(e)}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"edit-container"},i.a.createElement("label",null,"Alterar imagem:"),i.a.createElement("input",{type:"file",onChange:this.handleFileUpload}),i.a.createElement("form",{className:"edit-container",onSubmit:this.handleFormSubmit},i.a.createElement("label",null,"Nome:"),i.a.createElement("input",{className:"form-input",onChange:this.handleChange,type:"text",name:"name",value:this.state.name}),i.a.createElement("label",null,"Descri\xe7\xe3o:"),i.a.createElement("input",{className:"form-input",onChange:this.handleChange,type:"text",name:"description",value:this.state.description}),i.a.createElement("label",null,"Pre\xe7o:"),i.a.createElement("input",{className:"form-input",onChange:this.handleChange,type:"number",name:"price",value:this.state.price}),i.a.createElement("label",null,"Categoria:"),"Produto"===this.props.service.category?i.a.createElement("select",{onChange:this.handleChange,name:"category"},i.a.createElement("option",{value:"Produto"},"Produto"),i.a.createElement("option",{value:"Servi\xe7o"},"Servi\xe7o")):i.a.createElement("select",{onChange:this.handleChange,name:"category"},i.a.createElement("option",{value:"Servi\xe7o"},"Servi\xe7o"),i.a.createElement("option",{value:"Produto"},"Produto")),i.a.createElement("label",null,"Complemento:"),i.a.createElement("input",{onChange:this.handleChange,type:"text",name:"apartment",value:this.state.apartment}),i.a.createElement("label",null,"Data:"),i.a.createElement("input",{onChange:this.handleChange,type:"date",name:"date",value:this.state.date}),i.a.createElement("button",{className:"details-btn",type:"submit"},"Salvar")))}}]),a}(n.Component),M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={service:{},orders:[],serviceAPICalled:!1,orderAPICalled:!1,toggleEdit:!1},n.service=new O,n.handleStatus=n.handleStatus.bind(Object(o.a)(n)),n.getEditedService=n.getEditedService.bind(Object(o.a)(n)),n.handleClick=n.handleClick.bind(Object(o.a)(n)),n.changeDeleteStatus=n.changeDeleteStatus.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleClick",value:function(){this.setState({toggleEdit:!this.state.toggleEdit})}},{key:"getServiceDetails",value:function(){var e=this;if(!this.state.serviceAPICalled){var t=this.props.match.params;this.service.getServiceDetails(t.id,t.servicoId).then((function(t){e.setState({service:t,serviceAPICalled:!0})}))}}},{key:"getServiceOrders",value:function(){var e=this;this.state.orderAPICalled||this.service.getAllOrders().then((function(t){e.setState({orders:t.filter((function(t){return t.service._id.includes(e.state.service._id)})),orderAPICalled:!0})}))}},{key:"handleStatus",value:function(e,t,a,n){this.service.changeStatus(e,t,a,n).then((function(e){return console.log(e)}))}},{key:"getEditedService",value:function(e){this.setState({service:e})}},{key:"changeDeleteStatus",value:function(){this.setState({deleteToggle:!this.state.deleteToggle})}},{key:"deleteService",value:function(){var e=this,t=this.state.service.building,a=this.state.service._id;this.service.deleteService(t,a).then((function(t){e.props.history.push("/pagina-principal")}))}},{key:"render",value:function(){var e=this;return this.getServiceDetails(),this.getServiceOrders(),i.a.createElement("div",null,i.a.createElement("h1",{className:"details-page-title"},this.state.service.name),i.a.createElement("div",{className:"details-section-2-container"},i.a.createElement("img",{className:"details-page-img",src:this.state.service.image,alt:this.state.service.name}),i.a.createElement("div",{className:"details-section-2"},i.a.createElement("h5",{className:"item-title"},"Tipo:"),i.a.createElement("p",null,this.state.service.category),i.a.createElement("h5",{className:"item-title"},"Data:"),i.a.createElement("h4",null,this.state.service.date),i.a.createElement("h5",{className:"item-title"},"Descri\xe7\xe3o:"),i.a.createElement("p",null,this.state.service.description))),i.a.createElement("button",{onClick:this.props.history.goBack,className:"details-btn"},"Voltar"),this.state.service.owner===this.props.user._id?i.a.createElement("div",null,i.a.createElement("button",{className:"details-btn form-input-submit",style:{width:"90%",backgroundColor:"red"},onClick:function(){return e.deleteService()}},"Realmente quero deletar"),this.state.toggleEdit?i.a.createElement(q,{handleClick:this.handleClick,getEditedService:this.getEditedService,service:this.state.service}):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"details-btn",onClick:this.handleClick},"Editar")),i.a.createElement("h3",null,"Pedidos:"),i.a.createElement(w,Object.assign({handleStatus:this.handleStatus,building:this.state.service.building,orders:this.state.orders},this.props))):i.a.createElement("div",null,i.a.createElement("h3",null,"Fa\xe7a seu pedido"),i.a.createElement(D,Object.assign({},this.props,{service:this.state.service._id}))))}}]),a}(n.Component),I=(a(70),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(r.a)(this,a);var i=(n=t.call(this,e)).props.user;return n.state={toggleEdit:!1,name:i.name,email:i.email,password:"qualquer-coisa",passwordConfirmation:""},n.handleClick=n.handleClick.bind(Object(o.a)(n)),n.handleFormSubmit=n.handleFormSubmit.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handlePasswordSubmit=n.handlePasswordSubmit.bind(Object(o.a)(n)),n.handleFileUpload=n.handleFileUpload.bind(Object(o.a)(n)),n.service=new b,n}return Object(c.a)(a,[{key:"handleClick",value:function(){this.setState({toggleEdit:!this.state.toggleEdit})}},{key:"handleFormSubmit",value:function(e){var t=this;console.log(this.props),e.preventDefault();var a=this.state,n=a.email,i=a.name,s=this.props.user._id;this.service.edit(n,i,s).then((function(e){t.props.getUser(e),t.setState({toggleEdit:!t.state.toggleEdit})}))}},{key:"handlePasswordSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.password,i=a.passwordConfirmation,s=this.props.user._id;n===i&&this.service.editPassword(n,s).then((function(e){return t.setState({toggleEdit:!t.state.toggleEdit})}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleFileUpload",value:function(e){var t=this,a=new FormData;a.append("image",e.target.files[0]),this.service.editPhoto(a,this.props.user._id).then((function(e){t.props.getUser(e),t.setState({toggleEdit:!t.state.toggleEdit})}))}},{key:"render",value:function(){var e=this.props.user;return i.a.createElement("div",{className:"profile-container"},i.a.createElement("div",{className:"title-container"},i.a.createElement("h1",{className:"profile-title"},"Meu Perfil"),i.a.createElement("img",{className:"profile-img",src:e.image,alt:e.name})),i.a.createElement("div",{className:"edit-container"},i.a.createElement("button",{className:"edit-btn",onClick:this.handleClick},this.state.toggleEdit?"Voltar":"Editar"),this.state.toggleEdit?i.a.createElement("div",null,i.a.createElement("form",{className:"edit-form",onSubmit:this.handleFormSubmit},i.a.createElement("label",null,"Nome:"),i.a.createElement("input",{onChange:this.handleChange,className:"form-input",type:"text",name:"name",value:this.state.name}),i.a.createElement("label",null,"Email:"),i.a.createElement("input",{onChange:this.handleChange,className:"form-input",type:"email",name:"email",value:this.state.email}),i.a.createElement("button",{className:"form-input-submit",type:"submit"},"Salvar")),i.a.createElement("form",{className:"edit-password-container",onSubmit:this.handlePasswordSubmit},i.a.createElement("label",null,"Senha:"),i.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password",className:"form-input",value:this.state.password}),i.a.createElement("label",null,"Confirme sua senha:"),i.a.createElement("input",{onChange:this.handleChange,className:"form-input",type:"password",name:"passwordConfirmation",value:this.state.passwordConfirmation}),i.a.createElement("button",{className:"form-input-submit",type:"submit"},"Alterar senha")),i.a.createElement("div",{className:"edit-photo-container"},i.a.createElement("label",null,"Alterar foto de perfil:"),i.a.createElement("input",{onChange:this.handleFileUpload,type:"file"}))):i.a.createElement("div",{className:"profile-info"},i.a.createElement("img",{className:"profile-img",src:e.image,alt:e.name}),i.a.createElement("h3",null,"Nome: ",e.name),i.a.createElement("h3",null,"Email: ",e.email))))}}]),a}(n.Component)),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={services:[],search:"",serviceApiCalled:!1},n.service=new O,n.handleChangeSearch=n.handleChangeSearch.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleChangeSearch",value:function(e){this.setState({search:e.target.value.toLowerCase()})}},{key:"getUserServices",value:function(){var e=this;this.state.serviceApiCalled||this.service.getAllServices().then((function(t){e.setState({serviceApiCalled:!0,services:t.filter((function(t){return t.owner.includes(e.props.user._id)}))})}))}},{key:"render",value:function(){var e=this;return this.getUserServices(),this.props.user.services.length<1?i.a.createElement("div",null,i.a.createElement("div",{className:"main-page-title-box"},i.a.createElement("h1",null,"Meus servi\xe7os e produtos"),i.a.createElement("div",null,i.a.createElement("h1",{className:"add-building-err"},"Voc\xea ainda n\xe3o tem nenhum servi\xe7o, entre em um de seus condominios e crie um!")),i.a.createElement("button",{onClick:this.props.history.goBack,className:"back-btn"},"Voltar"))):i.a.createElement("div",null,i.a.createElement("div",{className:"main-page-title-box"},i.a.createElement("h1",null,i.a.createElement("span",{className:"title-first"},"Meus "),i.a.createElement("span",{className:"title-second"},"Servi\xe7os e Produtos"))),i.a.createElement("div",{className:"search-bar-container"},i.a.createElement("input",{type:"text",className:"form-input search-bar",value:this.state.search,onChange:this.handleChangeSearch,placeholder:"Buscar servi\xe7o pelo nome"})),i.a.createElement("div",null,i.a.createElement(j,Object.assign({servicePage:!0,services:this.state.services.filter((function(t){return t.name.toLowerCase().includes(e.state.search)}))},this.props))),i.a.createElement("button",{onClick:this.props.history.goBack,className:"back-btn"},"Voltar"))}}]),a}(n.Component),V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={orders:[],activeOrders:[],search:"",orderAPICalled:!1,toggleStatusButton:!0},n.service=new O,n.handleStatus=n.handleStatus.bind(Object(o.a)(n)),n.handleToggleStatus=n.handleToggleStatus.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"getUserOrders",value:function(){var e=this;this.state.orderAPICalled||this.service.getAllOrders().then((function(t){e.setState({orders:t.filter((function(t){return t.origin._id.includes(e.props.user._id)})),orderAPICalled:!0})}))}},{key:"handleToggleStatus",value:function(){this.setState({toggleStatusButton:!this.state.toggleStatusButton})}},{key:"handleStatus",value:function(e,t,a,n){var i=this;this.service.changeStatus(e,t,a,n).then((function(e){return i.setState({orderAPICalled:!1})}))}},{key:"activeOrders",value:function(){var e=Object(k.a)(this.state.orders);this.setState({activeOrders:e.filter((function(e){return"Cancelado"!==e.status}))})}},{key:"render",value:function(){return this.getUserOrders(),this.state.orders.length<1?i.a.createElement("div",null,i.a.createElement("div",{className:"main-page-title-box"},i.a.createElement("h1",null,"Meus pedidos"),i.a.createElement("div",null,i.a.createElement("h1",{className:"add-building-err"},"Voc\xea ainda n\xe3o fez nenhum pedido, acesse um de seus condominios e pe\xe7a!")),i.a.createElement("button",{onClick:this.props.history.goBack,className:"back-btn"},"Voltar"))):i.a.createElement("div",null,i.a.createElement("div",{className:"main-page-title-box"},i.a.createElement("h1",null,i.a.createElement("span",{className:"title-first"},"Meus "),i.a.createElement("span",{className:"title-second"},"Pedidos"))),i.a.createElement("div",null,i.a.createElement("button",{className:"back-btn",onClick:this.handleToggleStatus},this.state.toggleStatusButton?"Mostrar todos os pedidos":"Mostrar somente pedidos ativos"),this.state.toggleStatusButton?i.a.createElement(w,Object.assign({activeOrders:this.activeOrders,handleStatus:this.handleStatus,orders:this.state.orders.filter((function(e){return"Cancelado"!==e.status}))},this.props)):i.a.createElement(w,Object.assign({handleStatus:this.handleStatus,orders:this.state.orders},this.props))),i.a.createElement("button",{onClick:this.props.history.goBack,className:"back-btn"},"Voltar"))}}]),a}(n.Component),L=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={},n.service=new O,n.inviteCode=n.inviteCode.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"inviteCode",value:function(){var e=this,t=this.props.match.params.invitationCode;this.service.buildingInvite(t).then((function(t){e.props.history.push("/pagina-principal")}))}},{key:"render",value:function(){return this.inviteCode(),console.log(this.props),i.a.createElement("div",null,i.a.createElement("h1",null,"Encontrando seu predio"))}}]),a}(n.Component),z=function(e){return i.a.createElement(d.a,{to:"/"})},G=(a(71),a(72),a(22)),J=a(37),R=function(e){return i.a.createElement("footer",{className:"footer"},i.a.createElement("div",{className:"footer-top"},i.a.createElement(h.b,{className:"footer-link",to:"/pagina-principal"},i.a.createElement(G.a,{className:"footer-icon"}),"P\xe1gina Principal"),i.a.createElement(h.b,{className:"footer-link",to:"/meus-condominios"},i.a.createElement(J.a,{className:"footer-icon"}),"Meus Condom\xednios"),i.a.createElement(h.b,{className:"footer-link",to:"/perfil"},i.a.createElement(G.b,{className:"footer-icon"}),"Perfil")))},Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={loggedUser:null},n.service=new b,n.getUser=n.getUser.bind(Object(o.a)(n)),n.logout=n.logout.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedUser&&this.service.loggedin().then((function(t){e.setState({loggedUser:t})})).catch((function(t){e.setState({loggedUser:!1})}))}},{key:"getUser",value:function(e){this.setState({loggedUser:e})}},{key:"logout",value:function(){var e=this;this.service.logout().then((function(t){e.setState({loggedUser:null}),e.props.history.push("/")})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return this.fetchUser(),i.a.createElement("div",{className:"app-outer-container"},this.state.loggedUser?i.a.createElement("div",null,i.a.createElement(p,{user:this.state.loggedUser,logout:this.logout}),i.a.createElement("div",{className:"app-container"},i.a.createElement(d.d,null,i.a.createElement(d.b,{exact:!0,path:"/",render:function(t){return i.a.createElement(N,Object.assign({user:e.state.loggedUser},t))}}),i.a.createElement(y,{exact:!0,path:"/pagina-principal",component:U,user:this.state.loggedUser,getUser:this.getUser}),i.a.createElement(y,{exact:!0,path:"/adicionar-condominio",component:x,user:this.state.loggedUser}),i.a.createElement(y,{exact:!0,path:"/condominio/:id",component:P,user:this.state.loggedUser}),i.a.createElement(y,{exact:!0,path:"/condominio/:id/adicionar-servi\xe7o",component:_,user:this.state.loggedUser}),i.a.createElement(y,{exact:!0,path:"/condominio/:id/servi\xe7o/:servicoId",component:M,user:this.state.loggedUser}),i.a.createElement(y,{exact:!0,path:"/meus-condominios",component:F,user:this.state.loggedUser}),i.a.createElement(y,{exact:!0,path:"/meus-servi\xe7os",component:T,user:this.state.loggedUser}),i.a.createElement(y,{exact:!0,path:"/meus-pedidos",component:V,user:this.state.loggedUser}),i.a.createElement(y,{exact:!0,path:"/convite/:invitationCode",component:L,user:this.state.loggedUser,getUser:this.getUser}),i.a.createElement(y,{exact:!0,path:"/perfil",component:I,user:this.state.loggedUser,getUser:this.getUser}),i.a.createElement(d.b,{component:z}))),i.a.createElement(R,null)):i.a.createElement("div",null,i.a.createElement(p,Object.assign({user:this.state.loggedUser,logout:this.logout},this.props)),i.a.createElement("div",{className:"app-container"},i.a.createElement(d.d,null,i.a.createElement(d.b,{exact:!0,path:"/",render:function(t){return i.a.createElement(N,Object.assign({user:e.state.loggedUser},t))}}),i.a.createElement(d.b,{exact:!0,path:"/signup",render:function(t){return i.a.createElement(f,Object.assign({getUser:e.getUser},t))}}),i.a.createElement(d.b,{exact:!0,path:"/login",render:function(t){return i.a.createElement(C,Object.assign({getUser:e.getUser},t))}}),i.a.createElement(d.b,{component:z})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(h.a,null,i.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.7477bd16.chunk.js.map